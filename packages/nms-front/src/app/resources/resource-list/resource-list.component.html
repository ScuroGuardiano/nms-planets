<app-loading-overlay-wrapper [promise]="loadingPromise">
  <ngx-section sectionTitle="Resources">
    <table *ngIf="resources" class="table">
      <thead>
        <tr>
          <th class="select-row-header">
            <ngx-checkbox [ngModel]="allSelected" (change)="onSelectAll($event)"></ngx-checkbox>
          </th>
          <th>Name</th>
          <th>Symbol</th>
          <th>Group</th>
          <th>Rarity</th>
          <th>Base value</th>
          <th class="row-actions-header">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let resource of resources">
          <td class="select-row">
            <ngx-checkbox [ngModel]="isSelected(resource.id)" (change)="onSelect(resource.id, $event)"></ngx-checkbox>
          </td>
          <app-resource-row [resource]="resource" (delete)="onDelete($event)" (update)="update($event)"></app-resource-row>
        </tr>
      </tbody>
    </table>
    <div class="delete-all-wrapper">
      <button
        [disabled]="selected.size === 0"
        class="btn btn-danger large delete-all"
        (click)="onDeleteSelected()"
      ><i class="ngx-icon ngx-trash"></i>Delete selected</button>
    </div>
  </ngx-section>
</app-loading-overlay-wrapper>
